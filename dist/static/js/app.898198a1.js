(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"029a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("Login",{directives:[{name:"show",rawName:"v-show",value:e.ShowOnline&&!e.LoggedOn,expression:"ShowOnline && !LoggedOn"}],on:{"auth-success":function(t){e.LoggedOn=!0}}}),n("v-navigation-drawer",{attrs:{app:"",clipped:"",dark:"",color:"primary"},scopedSlots:e._u([{key:"append",fn:function(){return[e.SelectedLocation?n("div",{staticClass:"pa-2"},[n("v-btn",{attrs:{block:"",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.AddPlot(t)}}},[e._v("Add Plot")])],1):e._e()]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.SelectedLocation?n("v-list",e._l(e.PlotList,(function(t){return n("v-list-item",{key:t.PlotNumber,attrs:{link:""}},[n("v-list-item-action",[n("v-icon",[e._v("mdi-pine-tree")])],1),n("v-list-item-content",{on:{click:function(n){e.SelectedPlotData=t.PlotData,e.drawer=!1}}},[n("v-list-item-title",[e._v("Plot "+e._s(t.plot_number))])],1),n("v-btn",{attrs:{text:"",icon:"",color:"accent"},on:{click:function(n){return n.stopPropagation(),e.DeletePlot(t.plot_number)}}},[n("v-icon",[e._v("mdi-delete")])],1)],1)})),1):e._e()],1),n("v-app-bar",{attrs:{app:"","clipped-left":"",color:"primary",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("Tree - Con")]),n("v-spacer"),n("v-autocomplete",{staticClass:"mt-3",attrs:{items:e.Locations,label:"Location","item-text":"name","item-value":"id",clearable:"",dense:""},on:{change:e.LocationChange},model:{value:e.SelectedLocation,callback:function(t){e.SelectedLocation=t},expression:"SelectedLocation"}})],1),n("v-overlay",{attrs:{value:e.Loading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[n("v-fade-transition",[""!=e.SelectedPlotData?n("Table",{model:{value:e.SelectedPlotData,callback:function(t){e.SelectedPlotData=t},expression:"SelectedPlotData"}}):e._e()],1)],1)],1)],1)],1),n("v-footer",{attrs:{app:""}},[n("span",[e._v("Josh Dollinger Â© 2019")])])],1)},r=[],i=(n("4de4"),n("4160"),n("13d5"),n("fb6a"),n("159b"),n("bc3a")),s=n.n(i),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.overlay?n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-overlay",{attrs:{value:e.overlay}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"elevation-12",attrs:{light:""}},[n("v-toolbar",{attrs:{color:"secondary",dark:"",flat:""}},[n("v-toolbar-title",[e._v("Login")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Login",name:"login",type:"text","prepend-icon":"mdi-account"},model:{value:e.Params.username,callback:function(t){e.$set(e.Params,"username",t)},expression:"Params.username"}}),n("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.Params.password,callback:function(t){e.$set(e.Params,"password",t)},expression:"Params.password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.GetToken(t)}}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1):e._e()},l=[],u="https://tree-con.herokuapp.com/api/v1/auth/login/",d={props:{source:String},data:function(){return{Config:{headers:{Authorization:""}},Params:{username:"",password:"",email:""},overlay:!0}},localStorage:{TokenConfig:{type:Object},UserParams:{type:Object}},methods:{GetToken:function(){var e=this;s.a.post(u,e.Params,e.Config).then((function(t){e.Config.headers.Authorization="Token "+t.data.key,e.$localStorage.set("TokenConfig",e.Config),e.$localStorage.set("UserParams",e.Params),e.$emit("auth-success")})).catch((function(e){alert(e)}))}}},p=d,f=n("2877"),v=n("6544"),g=n.n(v),h=n("7496"),m=n("8336"),b=n("b0af"),k=n("99d9"),P=n("62ad"),y=n("a523"),w=n("a75b"),_=n("4bd4"),L=n("a797"),V=n("0fd9"),S=n("2fa4"),x=n("8654"),C=n("71d9"),T=n("2a7f"),O=Object(f["a"])(p,c,l,!1,null,null,null),D=O.exports;g()(O,{VApp:h["a"],VBtn:m["a"],VCard:b["a"],VCardActions:k["a"],VCardText:k["b"],VCol:P["a"],VContainer:y["a"],VContent:w["a"],VForm:_["a"],VOverlay:L["a"],VRow:V["a"],VSpacer:S["a"],VTextField:x["a"],VToolbar:C["a"],VToolbarTitle:T["a"]});var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",[n("v-data-table",{attrs:{headers:e.Headers,items:e.value,"hide-default-footer":""},scopedSlots:e._u([{key:"item.tree",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.tree},on:{"update:returnValue":function(n){return e.$set(t.item,"tree",n)},"update:return-value":function(n){return e.$set(t.item,"tree",n)},save:e.save,cancel:e.cancel},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Edit","single-line":"",counter:""},model:{value:t.item.tree,callback:function(n){e.$set(t.item,"tree",n)},expression:"props.item.tree"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.tree)+" ")])]}},{key:"item.species",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.species,large:"",persistent:""},on:{"update:returnValue":function(n){return e.$set(t.item,"species",n)},"update:return-value":function(n){return e.$set(t.item,"species",n)},save:e.save,cancel:e.cancel},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:t.item.species,callback:function(n){e.$set(t.item,"species",n)},expression:"props.item.species"}})]},proxy:!0}],null,!0)},[n("div",[e._v(e._s(t.item.species))])])]}}])}),n("v-btn",{staticClass:"my-5",attrs:{color:"secondary"},on:{click:e.AddTree}},[e._v(" Add Tree ")]),n("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v(" "+e._s(e.snackText)+" "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.snack=!1}}},[e._v("Close")])],1)],1)],1)},j=[],$={name:"PlotTable",props:["value"],data:function(){return{snack:!1,snackColor:"",snackText:"",Headers:[{text:"Tree",value:"tree"},{text:"Species",value:"species"},{text:"DBH",value:"dbh"},{text:"Height",value:"height"},{text:"Gross PS",value:"gross_piece_size"},{text:"Net PS",value:"net_piece_size"}]}},methods:{save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},AddTree:function(){for(var e=1,t=this.value.reduce((function(e,t){return e[t["tree"]]=!0,e}),{}),n=1;t[n];n++)e=n<=0?1:n+1;this.value.push({tree:e,species:"",dbh:0,height:0,gross_piece_size:0,net_piece_size:0})}}},B=$,E=n("8fea"),F=n("7679"),I=n("2db4"),N=Object(f["a"])(B,A,j,!1,null,null,null),z=N.exports;g()(N,{VBtn:m["a"],VCol:P["a"],VDataTable:E["a"],VEditDialog:F["a"],VRow:V["a"],VSnackbar:I["a"],VTextField:x["a"]});var G={Base:"https://tree-con.herokuapp.com/api/v1/",LatLong:"core/lat-longs",Locations:"core/locations",PlotData:"core/plot-datas",Plots:"core/plot"},R={name:"TreeCon",components:{Login:D,Table:z},data:function(){return{drawer:!1,Loading:!1,Internet:navigator.onLine,ShowOnline:!0,LoggedOn:!1,Locations:[],SelectedLocation:"",SelectedPlotData:"",Plots:[{PlotNumber:1}],Config:{headers:{Authorization:""}}}},created:function(){},mounted:function(){window.addEventListener("online",this.UpdateOnlineStatus),window.addEventListener("offline",this.UpdateOnlineStatus),"undefined"!=localStorage.TokenConfig&&(this.Config=this.$localStorage.get("TokenConfig"),this.LoggedOn=!0)},watch:{Internet:function(e){var t=this;e&&(this.ShowOnline=!0,setTimeout((function(){t.ShowOnline=!1}),1e3))},LoggedOn:function(){this.LoggedOn&&(this.Config=this.$localStorage.get("TokenConfig"),this.GetLocations())}},computed:{PlotList:function(){return this.Plots.slice(0).sort((function(e,t){return e.plot_number-t.plot_number}))}},methods:{updateOnlineStatus:function(e){var t=e.type;this.Internet="online"===t},GetLocations:function(){var e=this;s.a.get(G.Base+G.Locations,e.Config).then((function(t){e.Locations=t.data.results})).catch((function(t){alert(t),e.RetryLogin()}))},GetPlotData:function(){var e=this;e.Plots.length>0&&e.Plots.forEach((function(t){s.a.get(G.Base+G.PlotData+"?plot_key="+t.id+"&ordering=id",e.Config).then((function(n){t["PlotData"]=n.data.results,e.Loading=!1})).catch((function(t){alert(t),e.RetryLogin()}))}))},RetryLogin:function(){var e=this;e.LoggedOn=!1,e.Loading=!1},LocationChange:function(){var e=this;e.Loading=!0,s.a.get(G.Base+G.Plots+"?location="+e.SelectedLocation+"&ordering=id",e.Config).then((function(t){e.Plots=t.data.results,e.GetPlotData()})).catch((function(t){alert(t),e.RetryLogin()}))},AddPlot:function(){for(var e=1,t=this.Plots.reduce((function(e,t){return e[t["plot_number"]]=!0,e}),{}),n=1;t[n];n++)e=n<=0?1:n+1;this.Plots.push({location:this.SelectedLocation,plot_number:e,PlotData:[]})},DeletePlot:function(e){var t=this;t.Plots=t.Plots.filter((function(t){return t.plot_number!==e}))}}},H=R,M=(n("cf25"),n("40dc")),U=n("5bc1"),J=n("c6a6"),q=n("0789"),K=n("553a"),Q=n("132d"),W=n("8860"),X=n("da13"),Y=n("1800"),Z=n("5d23"),ee=n("f774"),te=n("490a"),ne=Object(f["a"])(H,a,r,!1,null,null,null),oe=ne.exports;g()(ne,{VApp:h["a"],VAppBar:M["a"],VAppBarNavIcon:U["a"],VAutocomplete:J["a"],VBtn:m["a"],VCol:P["a"],VContainer:y["a"],VContent:w["a"],VFadeTransition:q["c"],VFooter:K["a"],VIcon:Q["a"],VList:W["a"],VListItem:X["a"],VListItemAction:Y["a"],VListItemContent:Z["a"],VListItemTitle:Z["b"],VNavigationDrawer:ee["a"],VOverlay:L["a"],VProgressCircular:te["a"],VRow:V["a"],VSpacer:S["a"],VToolbarTitle:T["a"]});n("5363");var ae=n("f309");o["a"].use(ae["a"]);var re=new ae["a"]({theme:{themes:{light:{primary:"#474747",secondary:"#216073",accent:"#FF5722",error:"#c55e5e",success:"#368141",warning:"#ffe033"}}},icons:{iconfont:"mdi"}}),ie=n("9483");Object(ie["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var se=n("ead5"),ce=n.n(se);o["a"].use(ce.a),o["a"].config.productionTip=!1,new o["a"]({vuetify:re,render:function(e){return e(oe)}}).$mount("#app")},cf25:function(e,t,n){"use strict";var o=n("029a"),a=n.n(o);a.a}});
//# sourceMappingURL=app.898198a1.js.map